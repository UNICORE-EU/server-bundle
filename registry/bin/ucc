#!/bin/sh
#
# Startup script for the UNICORE Commandline client
#

#
# Installation Directory
#
dir=`dirname $0`
if [ "$dir" != "." ]
then
  INST=`dirname $dir`
else
  pwd | grep -e 'bin$' > /dev/null
  if [ $? = 0 ]
  then
    INST=".."
  else
    INST=`dirname $dir`
  fi
fi

INST=${INST:-.}

cd $INST

#
# Basic settings
#

LIB=lib
JAVA=java

#
# default location of user preferences file
#
OPTS=$OPTS" -Ducc.preferences=${INST}/conf/ucc.preferences"

#
# log configuration
#
OPTS=$OPTS" -Djava.util.logging.config.file=conf/logging.properties"
OPTS=$OPTS" -Dlog4j.configuration=conf/logging.properties"

#
#Memory for the VM
#
MEM=-Xmx128m

#
#put all jars in lib/ on the classpath
#
JARS=${LIB}/*.jar
CP=
for JAR in $JARS ; do 
    CP=$CP:$JAR
done

#
# go
#

CLASSPATH=$CP; export CLASSPATH

$JAVA ${MEM} ${OPTS} ${DEFS} de.fzj.unicore.ucc.UCC ${1+"$@"} 
